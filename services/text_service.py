"""
Сервис загрузки текстов для открыток.

Назначение:
- Загрузка готовых текстов поздравлений из файлов
- Используется ботом при выборе автоматических текстов

Структура:
- Каждый файл в папке texts соответствует категории
- Имя файла = ключ категории (например: new_year.txt)
- Тексты внутри файла разделены пустыми строками

Формат файлов:
- Кодировка: UTF-8
- Один текст = один абзац

Точка входа:
    load_texts(category)
"""

from pathlib import Path

BASE_DIR =  Path(__file__).resolve().parents[1]
TEXTS_DIR = BASE_DIR / "texts"


def load_texts(category: str) -> list[str]:
    """
        Загружает список текстов поздравлений по категории.

        Параметры:
        - category: ключ категории (имя текстового файла без расширения)

        Возвращает:
        - список строк с текстами поздравлений

        Используется при генерации открыток
        с автоматически выбранным текстом.
        """
    path = TEXTS_DIR / f"{category}.txt"
    content = path.read_text(encoding="utf-8")

    # каждый текст отделён пустой строкой
    texts = [t.strip() for t in content.split("\n") if t.strip()]
    return texts
